# ‚úÖ –û–ì–û–ù–¨-–ò-–ó–ê–ë–£–î–¨ –°–ò–°–¢–ï–ú–ê –ó–ê–í–ï–†–®–ï–ù–ê

–°–∏—Å—Ç–µ–º–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### **"Fire-and-Forget" –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ù–ï –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥
- ‚úÖ –ó–∞–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ –ù–ï –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥  
- ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ –ù–ï –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### **–ù–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- `lib/parsing-tasks-service.js` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- `lib/server-pipeline-orchestrator.js` - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- `lib/server-openai-client.js` - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI
- `lib/server-apify-client.js` - –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apify
- `lib/background-worker.js` - –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á

### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase**
- –¢–∞–±–ª–∏—Ü–∞ `parsing_tasks` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- Row Level Security (RLS) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–æ—Ä–º—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ API
- –†–µ–∞–ª—å–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ—Ä–µ–∑ WebSocket-like –æ–ø—Ä–æ—Å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### 1. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É ‚Üí –ù–∞–∂–∏–º–∞–µ—Ç "–ù–∞—á–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥"
                      ‚Üì
–°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–¥–∞—á–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ‚Üí –§–æ–Ω–æ–≤—ã–π worker –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É
                      ‚Üì
–ü–∞—Ä—Å–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Üí –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑—É
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ë—Ä–∞—É–∑–µ—Ä –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
- –ü–æ–ª—É—á–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ —Å—Ç–∞—Ç—É—Å

### 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üîß –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

**‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –∞–∫—Ç–∏–≤–Ω–∞
- Apify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –∞–∫—Ç–∏–≤–Ω–∞ (FREE –ø–ª–∞–Ω)
- Background worker: –∞–∫—Ç–∏–≤–µ–Ω
- API endpoints: –¥–æ—Å—Ç—É–ø–Ω—ã

**‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- Supabase credentials (–æ—à–∏–±–∫–∏ "Invalid API key")
- –ù—É–∂–µ–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π service_role –∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

### 1. Supabase credentials
–î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª `.env`:
```bash
SUPABASE_URL=your-real-supabase-url
SUPABASE_SERVICE_KEY=your-service-role-key  # –ù–ï anon key!
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ http://localhost:3001/index.html
2. –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
3. –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É –ø–∞—Ä—Å–∏–Ω–≥–∞
4. –ó–∞–∫—Ä—ã—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä - –ø–∞—Ä—Å–∏–Ω–≥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è
5. –í–µ—Ä–Ω—É—Ç—å—Å—è - —É–≤–∏–¥–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –∏–º–µ–Ω–Ω–æ —Ç–∞ —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –ø—Ä–æ—Å–∏–ª–∏:

> **"–Ø –∑–∞–ø—É—Å—Ç–∏–ª - –ø—Ä–æ—Ü–µ—Å—Å –∏–¥–µ—Ç  
> —è –æ–±–Ω–æ–≤–∏–ª - –ø—Ä–æ—Ü–µ—Å—Å –∏–¥–µ—Ç (–ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è)  
> –Ø –∑–∞–∫—Ä—ã–ª –≤—ã—â–µ–ª –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ - –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è"**

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É –¥–æ –ø–æ–ª–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞!