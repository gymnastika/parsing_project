# ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–ò GOOGLE MAPS ‚Üí WEB SCRAPER

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
Pipeline –ø—Ä–µ—Ä—ã–≤–∞–ª—Å—è –ø–æ—Å–ª–µ Google Maps Scraper –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ `pipeline-orchestrator.js`.

## üîß –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê (–ò–°–ü–†–ê–í–õ–ï–ù–ê)
**–§–∞–π–ª**: `lib/pipeline-orchestrator.js` 
**–°—Ç—Ä–æ–∫–∞**: 649-671
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `scrapedData` –æ–±—ä—è–≤–ª–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ try –±–ª–æ–∫–∞, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ –µ–≥–æ

```javascript
// ‚ùå –î–û (–æ—à–∏–±–∫–∞ ReferenceError)
try {
    const scrapedData = await this.apifyClient.scrapeWebsiteDetails(urls);
} catch (scrapingError) {
    const scrapedData = urls.map(url => ({...})); // –î—Ä—É–≥–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏!
}
const mergedResults = this.mergeGoogleMapsWithWebData(validatedResults, scrapedData); // ‚ùå scrapedData –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞

// ‚úÖ –ü–û–°–õ–ï (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ)
let scrapedData = []; // –û–±—ä—è–≤–ª–µ–Ω–∞ –í–ù–ï –±–ª–æ–∫–æ–≤

try {
    scrapedData = await this.apifyClient.scrapeWebsiteDetails(urls);
} catch (scrapingError) {
    scrapedData = urls.map(url => ({...})); // –¢–∞ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
}
const mergedResults = this.mergeGoogleMapsWithWebData(validatedResults, scrapedData); // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç!
```

### 2. ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

#### A. **Web Scraper –∞–∫—Ç–æ—Ä —É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
- `scrapeWebsiteDetails()` ‚Üí –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `formattedResults`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç–æ—Ä `apify/web-scraper` —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ä–µ–∂–∏–º "URL-only scraping" (–±–µ–∑ crawling)

#### B. **pageFunction –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è email —É–∂–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞**
- **4 —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**: mailto links, contact elements, meta tags, body text, JSON-LD
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: —É–±–∏—Ä–∞–µ—Ç test@, noreply@, admin@, –∏ –¥—Ä—É–≥–∏–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –∞–¥—Ä–µ—Å–∞
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Set –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö email'–æ–≤

#### C. **Pipeline –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
1. **Stage 2**: Google Maps Scraper ‚Üí –Ω–∞—Ö–æ–¥–∏—Ç –±–∏–∑–Ω–µ—Å—ã —Å website
2. **Stage 4**: `scrapeOrganizationDetails()` ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ—Ç URLs –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç Web Scraper
3. **Stage 5**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º –¥–∞–Ω–Ω—ã–º (email + —Ç–µ–ª–µ—Ñ–æ–Ω)
4. **Stage 6**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
```bash
npm start
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001/test-pipeline.html
```

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. **üèÉ‚Äç‚ôÄÔ∏è –®–∫–æ–ª—ã –≥–∏–º–Ω–∞—Å—Ç–∏–∫–∏ –î—É–±–∞–π** (5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –û–ê–≠ —Ä–µ–≥–∏–æ–Ω–∞
2. **ü¶∑ –°—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏ –ú–æ—Å–∫–≤–∞** (3 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞) - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞  
3. **üçΩÔ∏è –†–µ—Å—Ç–æ—Ä–∞–Ω—ã –ù—å—é-–ô–æ—Ä–∫** (4 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –°–®–ê —Ä–µ–≥–∏–æ–Ω–∞

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚úÖ Google Maps –Ω–∞—Ö–æ–¥–∏—Ç –±–∏–∑–Ω–µ—Å—ã —Å website
- ‚úÖ Web Scraper –∏–∑–≤–ª–µ–∫–∞–µ—Ç email –∞–¥—Ä–µ—Å–∞ —Å —ç—Ç–∏—Ö —Å–∞–π—Ç–æ–≤
- ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, email, —Å–∞–π—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ, —Å—Ç—Ä–∞–Ω–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ–ª—å–∫–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏)

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå Pipeline –∫—Ä–∞—à–∏–ª—Å—è —Å ReferenceError
- ‚ùå Web Scraper –Ω–µ –∑–∞–ø—É—Å–∫–∞–ª—Å—è
- ‚ùå Email –∞–¥—Ä–µ—Å–∞ –Ω–µ –∏–∑–≤–ª–µ–∫–∞–ª–∏—Å—å

**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ Pipeline —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ Web Scraper –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ Google Maps
- ‚úÖ Email –∞–¥—Ä–µ—Å–∞ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Å 4 —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üéâ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Google Maps ‚Üí Web Scraper –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞. 
Pipeline —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —á–∞—Å—ã! ‚è∞

---
**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**: 2025-09-08  
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã**: `lib/pipeline-orchestrator.js`  
**–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç**: `test-pipeline.html`