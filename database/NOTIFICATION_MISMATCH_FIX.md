# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∏ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞**: 1 –æ–∫—Ç—è–±—Ä—è 2025
**–ü—Ä–æ–±–ª–µ–º–∞**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 7 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –Ω–æ –≤ –±–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è 14

---

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ß—Ç–æ —Å–æ–æ–±—â–∏–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
- üì± –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "7 —É—Å–ø–µ—à–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"
- üìä –ò—Å—Ç–æ—Ä–∏—è –∑–∞–¥–∞—á: 14 –∑–∞–ø–∏—Å–µ–π
- üë• –ö–æ–Ω—Ç–∞–∫—Ç—ã: 14 –∑–∞–ø–∏—Å–µ–π
- ‚ùå –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∏ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### Root Cause (–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞):

**–ü—Ä–æ–±–ª–µ–º–∞**: –í –±–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –í–°–ï —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞, –≤–∫–ª—é—á–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ë–ï–ó –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

**–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

1. **Pipeline –Ω–∞—Ö–æ–¥–∏—Ç 14 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π:**
   - 7 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å email –∞–¥—Ä–µ—Å–∞–º–∏
   - 7 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –ë–ï–ó email –∞–¥—Ä–µ—Å–æ–≤

2. **–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
   ```javascript
   const results = finalResults.results;  // –í—Å–µ 14 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
   await saveResultsToDatabase(task, results);  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—Å–µ 14
   ```

3. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ:**
   ```javascript
   const emailCount = results.filter(r => r.email).length;  // 7
   // –ù–æ –≤ –±–∞–∑—É —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –≤—Å–µ 14!
   ```

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "7 –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤", –Ω–æ –≤ –±–∞–∑–µ 14 –∑–∞–ø–∏—Å–µ–π

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ (script.js:5355-5378):

```javascript
// Get all results
const allResults = finalResults.results;  // –í—Å–µ 14 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

// Filter: keep only results with contact info (email or phone)
const results = allResults.filter(r => r.email || r.phone);  // –¢–æ–ª—å–∫–æ 7 —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
const resultCount = results.length;  // 7

console.log(`üìä Results filtering:`, {
    total: allResults.length,           // 14
    withContacts: results.length,       // 7
    filtered: allResults.length - results.length  // 7
});

// Save only results with contacts
await this.saveResultsToDatabase(task, results);  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ 7

// Show notification
this.showNotification(
    '–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω —É—Å–ø–µ—à–Ω–æ!',
    `–ù–∞–π–¥–µ–Ω–æ ${resultCount} —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏`,  // 7
    'success'
);
```

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|----------|----------------|-------------------|
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î | 14 (–≤—Å–µ) | 7 (—Ç–æ–ª—å–∫–æ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏) |
| –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ | 7 | 7 |
| –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |

---

## üéØ –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

**–ö—Ä–∏—Ç–µ—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**: –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏:
- `result.email !== null && result.email !== undefined` –ò–õ–ò
- `result.phone !== null && result.phone !== undefined`

**–ü—Ä–∏–º–µ—Ä—ã:**

‚úÖ **–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
```javascript
{ organizationName: "Company A", email: "contact@companya.com", phone: null }
{ organizationName: "Company B", email: null, phone: "+1234567890" }
{ organizationName: "Company C", email: "info@companyc.com", phone: "+9876543210" }
```

‚ùå **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
```javascript
{ organizationName: "Company D", email: null, phone: null }
{ organizationName: "Company E", website: "companyE.com" }  // –Ω–µ—Ç email/phone
```

---

## üìä –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º—É

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ —á–∏—Å–ª–æ
- ‚úÖ –í –±–∞–∑–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏)
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### Backward compatibility:
- ‚úÖ –°—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –ù–ï –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```javascript
console.log(`üìä Results filtering:`, {
    total: allResults.length,
    withContacts: results.length,
    filtered: allResults.length - results.length
});
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
üìä Results filtering: {
  total: 14,
  withContacts: 7,
  filtered: 7
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ edge case:
–ï—Å–ª–∏ –í–°–ï —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤:
```javascript
if (results.length === 0) {
    this.showNotification(
        '–ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω',
        `–ù–∞–π–¥–µ–Ω–æ ${allResults.length} –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–æ –Ω–∏ —É –æ–¥–Ω–æ–π –Ω–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö`,
        'warning'
    );
}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–∞—Ä—Å–∏–Ω–≥ —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: 10 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, 6 —Å email
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "6 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏"
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: 6 –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–∞—Ä—Å–∏–Ω–≥ –±–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: 5 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, 0 —Å email/phone
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "–ù–∞–π–¥–µ–Ω–æ 5 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –Ω–æ –Ω–∏ —É –æ–¥–Ω–æ–π –Ω–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö"
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: 0 –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –°–º–µ—à–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Ä–µ–∞–ª—å–Ω—ã–π –∫–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: 14 –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, 7 —Å email
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**:
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ: "7 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏"
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: 7 –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ‚Üê **–ò–°–ü–†–ê–í–õ–ï–ù–û!**

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ñ–∞–π–ª**: `script.js:5355-5378`
- **–§—É–Ω–∫—Ü–∏—è**: `handleTaskCompletion(task)`
- **–ú–µ—Ç–æ–¥ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**: `allResults.filter(r => r.email || r.phone)`

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**: –õ–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ó–∞–ø—É—Å—Ç–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
